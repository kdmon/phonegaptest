<html>

  <head>
    <script type="text/javascript" src="phonegap.js"></script>
    <script>
      document.addEventListener("deviceready", init, false);

      function init() {
        
        window.plugin.backgroundMode.enable();

        // window.plugin.notification.local is now available
        window.plugin.notification.local.add({
          title: 'State update',
          message: 'Device ready, scheduling msg every 5s!'
        });
        
        var c = 0;
        setInterval(function() {
          c++
          var now = new Date().getTime();
          var _10_seconds_from_now = new Date(now + 10 * 1000);
          window.plugin.notification.local.add({
            title: 'Scheduled msg',
            message: 'Message number ' + c,
            date: _10_seconds_from_now
          });
        },  5000);
      
        window.plugin.notification.local.onclick = function(id, state, json) {
          alert(id + state + json);
        };
      
      }

      function msg(m, s) {
        window.plugin.notification.local.add({
            message: m,
            sound: s
          });
      }
    </script>
  </head>

  <body>
    <h1>Phonegap local notification test 2</h1>
    <button style="font-size: 2em; padding: 10px; background: #cfc;" onclick="javascript: msg('Notification msg', 'TYPE_NOTIFICATION');">Notification!</button>
    <button style="font-size: 2em; padding: 10px; background: #cfc;" onclick="javascript: msg('Alarm msg', 'TYPE_ALARM');">Alarm!</button>
    <button style="font-size: 2em; padding: 10px; background: #cfc;" onclick="javascript: msg('Ringtone msg', 'TYPE_RINGTONE');">Ringtone!</button>
    <button style="font-size: 2em; padding: 10px; background: #cfc;" onclick="javascript: msg('mp3 msg', 'gaudio.mp3');">mp3-a!</button>
    <button style="font-size: 2em; padding: 10px; background: #cfc;" onclick="javascript: msg('mp3 msg', '/gaudio.mp3');">mp3-b!</button>
  </body>

</html>